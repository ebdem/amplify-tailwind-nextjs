_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{"1xXU":function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),a=n.n(r),c=n("nKUr"),o=n("HaE+"),s=n("rePB"),u=n("ODXe"),i=n("BHzR"),p=n("q1tI"),l=n.n(p),b=n("l1VB"),f=n("oDCQ"),O=n("7Cbv"),j=n("20a2"),d=n("k20a"),m=n.n(d),h=(n("FQ0y"),n("sIIE"));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={name:"",description:""};t.default=Object(i.a)((function(){var e=l.a.useState(y),t=Object(u.a)(e,2),n=t[0],r=t[1],i=n.name,p=n.description,d=Object(j.useRouter)(),g=l.a.useState(null),x=Object(u.a)(g,2),v=x[0],_=x[1],N=l.a.useRef(null);function P(){return(P=Object(o.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&p){e.next=2;break}return e.abrupt("return");case 2:if(t=Object(O.a)(),n.id=t,!v){e.next=9;break}return r="".concat(v.name,"_").concat(Object(O.a)()),n.coverImage=r,e.next=9,b.a.put(r,v);case 9:return e.next=11,f.a.graphql({query:h.a,variables:{input:n},authMode:"AMAZON_COGNITO_USER_POOLS"});case 11:d.push("/posts/".concat(t));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N.current.click();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{className:"text-3xl font-semibold tracking-wide mt-6",children:"Create new Post"}),Object(c.jsx)("input",{onChange:function(e){r((function(){return w(w({},n),{},Object(s.a)({},e.target.name,e.target.value))}))},name:"name",placeholder:"Name",value:n.name,className:"border-b pb-2 text-lg my-4 focus:outline-none w-full font-light text-gray-500 placeholder-gray-500 y-2"}),v&&Object(c.jsx)("img",{src:URL.createObjectURL(v),className:"my-4"}),Object(c.jsx)(m.a,{value:n.content,onChange:function(e){return r(w(w({},n),{},{description:e}))}}),Object(c.jsx)("input",{type:"file",ref:N,className:"absolute w-0 h-0",onChange:function(e){var t=e.target.files[0];t&&_(t)}}),Object(c.jsx)("button",{className:"bg-purple-600 text-white font-semibold px-8 py-2 rounded-lg mr-2",onClick:function(){return k.apply(this,arguments)},children:"Upload Cover Image"}),Object(c.jsx)("button",{className:"mb-4 bg-blue-600 text-white font-semibold px-8 py-2 rounded-lg",onClick:function(){return P.apply(this,arguments)},children:"Create Post"})]})}))},zddE:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-post",function(){return n("1xXU")}])}},[["zddE",1,3,2,4,12,0,5,6,7,8,9,11,10]]]);